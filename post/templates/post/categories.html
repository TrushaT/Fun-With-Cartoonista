{% extends 'cartoonify/base.html' %}
{% block content %}
{% if posts %}
<h1 class="mt-3 mb-3 text-center">Posts with Category: {{ category }}</h1>
{% for post in posts %}
<article class="media content-section">
    <img class="rounded-circle article-img" src="{{ post.header_image.url }}">
    <div class="media-body">
        <div class="article-metadata">
            <a class="mr-2" href="{% url 'user-posts' post.author.username %}">{{ post.author }}</a>
            <small class="text-muted">{{ post.pub_date|date:"F d, Y" }}</small>
            <!-- Pipe | is used to filter data variables we receive from our view -->
            <!-- https://docs.djangoproject.com/en/2.0/ref/templates/builtins/#date -->
        </div>
        <h2><a class="article-title" href="{% url 'detail_post' post.id %}">{{ post.title }}</a></h2>
        <p class="article-content">
            Caption: {{ post.caption }}
            Likes: {{ post.likes.count }} 
            Tags: {% for tag in post.tags.all %}<a href="{% url 'per-category' tag.slug %}">{{ tag.name }}</a>{% if not forloop.last %}, {% endif %}{% endfor %}
        </p>
    </div>
</article>
{% endfor %}
{% else %}
<h1>Sorry no images available </h1>
{% endif %}
{% endblock content%}